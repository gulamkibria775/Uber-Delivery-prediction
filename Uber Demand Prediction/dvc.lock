schema: '2.0'
stages:
  data_ingestion:
    cmd: python ./src/data/data_ingestion.py
    deps:
    - path: ./src/data/data_ingestion.py
      hash: md5
      md5: 80dd3ebe9993387b099ed4b6f755cb3a
      size: 3514
  extract_features:
    cmd: python ./src/features/extract_features.py
    deps:
    - path: ./src/features/extract_features.py
      hash: md5
      md5: 0973f7a5c986661745884dd72f2d8392
      size: 4692
    params:
      params.yaml:
        extract_features.ewma.alpha: 0.4
        extract_features.mini_batch_kmeans.n_clusters: 30
        extract_features.mini_batch_kmeans.n_init: 10
        extract_features.mini_batch_kmeans.random_state: 41
    outs:
    - path: ./data/processed/resampled_data.csv
      hash: md5
      md5: 5ec9be482a9e9d004c8e7f594e973f65
      size: 8225886
    - path: ./models/mb_kmeans.joblib
      hash: md5
      md5: 3af0737f874d78f83c9539f2c3066e3e
      size: 143771
    - path: ./models/scaler.joblib
      hash: md5
      md5: 6e202c6b64bed103d2f8ea68c9b1d35f
      size: 951
  feature_processing:
    cmd: python ./src/features/feature_processing.py
    deps:
    - path: ./data/processed/resampled_data.csv
      hash: md5
      md5: 5ec9be482a9e9d004c8e7f594e973f65
      size: 8225886
    - path: ./src/features/feature_processing.py
      hash: md5
      md5: bb7e9a7f324d3fc07adc3b1ee1b69c0f
      size: 2467
    outs:
    - path: ./data/processed/test.csv
      hash: md5
      md5: df7cee60acb545531dedeefa868c71a6
      size: 4905470
    - path: ./data/processed/train.csv
      hash: md5
      md5: ef823cf8e39717acb3e23616caabd855
      size: 9454120
  train:
    cmd: python ./src/models/train.py
    deps:
    - path: ./data/processed/train.csv
      hash: md5
      md5: ef823cf8e39717acb3e23616caabd855
      size: 9454120
    - path: ./src/models/train.py
      hash: md5
      md5: 44e4aedce490b1cdd57122193b64f820
      size: 2208
    outs:
    - path: ./models/encoder.joblib
      hash: md5
      md5: a08c777083883398d841cbf251f82e72
      size: 3223
    - path: ./models/model.joblib
      hash: md5
      md5: 784b0ba0aad59a1aa135605329daae91
      size: 2169
  evaluate:
    cmd: python ./src/models/evaluate.py
    deps:
    - path: ./data/processed/test.csv
      hash: md5
      md5: 28300d320298b1bd5c3501106264692e
      size: 4900393
    - path: ./data/processed/train.csv
      hash: md5
      md5: 9d8fc42cfb0eb631972952dcf06e9485
      size: 9436607
    - path: ./models/encoder.joblib
      hash: md5
      md5: d883af027a5f9862153e36c8e466557e
      size: 3211
    - path: ./models/model.joblib
      hash: md5
      md5: d6a9510dd3eddf25f7ff9e7a32b14482
      size: 2136
    - path: ./src/models/evaluate.py
      hash: md5
      md5: 9e86e94373e593d49360a14205393f41
      size: 4266
    outs:
    - path: ./run_information.json
      hash: md5
      md5: 824ad2f4b1f3fa3178e06f9a88b5da40
      size: 171
  register_model:
    cmd: python ./src/models/register_model.py
    deps:
    - path: ./run_information.json
      hash: md5
      md5: 824ad2f4b1f3fa3178e06f9a88b5da40
      size: 171
    - path: ./src/models/register_model.py
      hash: md5
      md5: 95282c85e4a61ae06e946c5b3e56f4ac
      size: 2432
